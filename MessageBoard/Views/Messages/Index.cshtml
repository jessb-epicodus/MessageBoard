@{
    Layout = "_Layout";
  }

@using MessageBoard.Models;
@model List<MessageBoard.Models.Message>;  

<h1>All Messages</h1>
<hr>

@if (@Model.Count == 0 ) 
{
  <p><em>No messages exist at the moment.</em></p>
}
<ul>
  @foreach(Message message in Model) 
  {
    <p>@Html.ActionLink($"{message.Title}", "Details", new { id = message.MessageId })</p>
  }
</ul>
@* <p>@Html.ActionLink("Add Message", "Create")</p> *@


<div id="carouselExampleControls" class="carousel slide mt-5" data-bs-ride="carousel">
  <div class="carousel-inner">
  @{int count = 0;}
  @foreach(Message message in Model) 
  {
    @if (count == 0) {
      <div class="carousel-item active">
        <p>@Html.ActionLink($"{message.Title}", "Details", new { id = message.MessageId })</p>
      </div>
    } else 
    {
      <div class="carousel-item">
        <p>@Html.ActionLink($"{message.Title}", "Details", new { id = message.MessageId })</p>
      </div>
    }
    <div class="invisible">
    @(count++)
    </div>
  }
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>